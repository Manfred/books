#!/usr/bin/env ruby
# frozen_string_literal: true

require_relative '../config/environment'

reynard = Reynard.new(filename: './openapi/specification.yml')
response = reynard.
  operation('listBooks').
  execute

if response.success?
  puts "BOOKS"
  response.object.each do |book|
    puts "* #{book.name}"
  end
else
  warn "ðŸ”¥ #{response.code}"
  warn response.parsed_body.inspect
end
